<!doctype html><html lang="en"><head><title>Hill Climbing and Cost Functions - Jim Killingsworth</title><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="If you’re climbing a hill, you know you’ve reached the top when you can’t take any further steps that lead to a higher elevation. But if the hill is actually a plateau with a flat top, the topmost point you reach can depend largely on where you started climbing. In this post, I elaborate on the topic of my previous post titled Estimating the Weights of Biased Coins. This post presents the results of an improved hill climbing algorithm and also some ideas for ranking the different solutions that fall on a plateau of valid values."/><base href="/"/><link rel="canonical" href="https://jkillingsworth.com/2019/11/14/hill-climbing-and-cost-functions/"/><link rel="icon" href="./static/favicon.ico" type="image/x-icon"/><link rel="icon" href="./static/favicon-256.jpg" sizes="256x256"/><link rel="preload" href="./static/fonts/open-sans-v20-latin-700.woff2" as="font" crossorigin/><link rel="preload" href="./static/fonts/lora-v17-latin-regular.woff2" as="font" crossorigin/><link rel="preload" href="./static/fonts/lora-v17-latin-italic.woff2" as="font" crossorigin/><link rel="preload" href="./static/fonts/roboto-mono-v13-latin-regular.woff2" as="font" crossorigin/><link rel="preload" href="https://www.google-analytics.com/analytics.js" as="script"/><script src="https://www.googletagmanager.com/gtag/js?id=UA-114299226-1" async></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag("js", new Date());
  gtag("config", "UA-114299226-1", { "send_page_view": true });
</script><style>@font-face{font-display:swap;font-family:"Open Sans";font-style:normal;font-weight:700;src:local("Open Sans Bold"),local("OpenSans-Bold"),url(./static/fonts/open-sans-v20-latin-700.woff2) format("woff2"),url(./static/fonts/open-sans-v20-latin-700.woff) format("woff")}@font-face{font-display:swap;font-family:"Lora";font-style:normal;font-weight:400;src:local("Lora Regular"),local("Lora-Regular"),url(./static/fonts/lora-v17-latin-regular.woff2) format("woff2"),url(./static/fonts/lora-v17-latin-regular.woff) format("woff")}@font-face{font-display:swap;font-family:"Lora";font-style:italic;font-weight:400;src:local("Lora Italic"),local("Lora-Italic"),url(./static/fonts/lora-v17-latin-italic.woff2) format("woff2"),url(./static/fonts/lora-v17-latin-italic.woff) format("woff")}@font-face{font-display:swap;font-family:"Roboto Mono";font-style:normal;font-weight:400;src:local("Roboto Mono"),local("RobotoMono-Regular"),url(./static/fonts/roboto-mono-v13-latin-regular.woff2) format("woff2"),url(./static/fonts/roboto-mono-v13-latin-regular.woff) format("woff")}
/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}
html{box-sizing:border-box;overflow-y:scroll}*,*::before,*::after{box-sizing:inherit}body{font-family:"Lora", "Georgia", serif;font-weight:normal;background:#fff;color:#000;display:flex;flex-flow:row wrap;font-size:12pt;justify-content:space-between;line-height:1.5;margin:0 auto;width:90%}body>*{flex:0 100%}body>header{font-size:21pt;margin:10px 0}body>footer{border-top:3px solid gray;font-size:10pt;font-style:italic;padding:16px 0}header,nav,h1,h2{font-family:"Open Sans", "Verdana", sans-serif;font-weight:bold}header a,nav a,h1 a,h2 a{color:inherit}a{color:blue;text-decoration:none}a:hover{color:blue;text-decoration:underline}strong{font-family:"Open Sans", "Verdana", sans-serif;font-weight:bold}svg{fill:currentColor}.navmenu{border-top:3px solid gray;border-bottom:1px solid #ccc}.navmenu #toggle{float:right;height:24px;margin:4px 0;width:24px}.navmenu #toggle+label{color:transparent;cursor:pointer;display:block;padding:4px 0;position:relative;user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none}.navmenu #toggle+label::before{background:#fff;background-size:24px;content:"";float:right;height:24px;left:24px;position:relative;width:24px}.navmenu #toggle+label::after{content:"Menu";left:0;padding:0 16px;position:absolute}.navmenu #toggle+label{border-bottom:none}.navmenu #toggle+label::before{background-image:url("./static/chevron-down.svg")}.navmenu #toggle+label::after{color:#000}.navmenu #toggle~ul{height:0;visibility:hidden}.navmenu #toggle:checked+label{border-bottom:1px solid #e6e6e6}.navmenu #toggle:checked+label::before{background-image:url("./static/chevron-up.svg")}.navmenu #toggle:checked+label::after{color:gray}.navmenu #toggle:checked~ul{height:auto;visibility:visible}.navmenu ul{display:flex;flex-flow:column wrap;list-style-type:none;justify-content:flex-start;margin:0;overflow:hidden;padding:0}.navmenu ul>li{flex:none}.navmenu ul>li a{display:block;padding:4px 16px}.navmenu ul>li a:hover,.navmenu ul>li a:focus{background:gray;color:#fff}.content{max-width:720px}.content header,.content footer,.content h1,.content h2,.content p,.content ul,.content figure{margin:24px 0}.content h1{font-size:18pt}.content h2{font-size:12pt}.content footer{font-style:italic}.content p:last-of-type::after{clear:both;content:"";display:block}.content ul{padding-left:16px}.content ul>li{margin:12px 0}.content figure{max-width:90vw}.content figure>img{display:block}.content .fig-chart{padding-top:56.25%;page-break-inside:avoid;position:relative}.content .fig-chart>img{max-height:100%;max-width:100%;position:absolute;top:0}.content .fig-latex{overflow-x:auto}.content .fig-latex>img{margin:0 16px}.content .fig-pic-l>img,.content .fig-pic-r>img{margin:0 auto;max-width:100%;object-fit:cover}.content .button{font-family:"Open Sans", "Verdana", sans-serif;font-weight:bold;background:#e6e6e6;color:inherit;display:block;margin:24px 0;padding:4px 0;text-align:center}.content .button:hover,.content .button:focus{background:gray;color:#fff}.content .message header>h1{background:#ff0;display:inline-block;font-size:12pt;margin:0;text-transform:lowercase}.content .message header>h1::first-letter{text-transform:uppercase}.content .message header>h1::after{content:":"}.content .message p{font-style:italic}.content .newpost header>h1{background:#ff0;display:inline-block;font-size:12pt;margin:0;text-transform:lowercase}.content .newpost header>h1::first-letter{text-transform:uppercase}.content .newpost header>h1::after{content:":"}.content .newpost header>h2{font-size:18pt}.content .newpost a.readmore::after{content:" \00bb"}.content .newpost a:not(.readmore):not(:hover){color:inherit}.content .oldpost{margin:24px 0}.content .oldpost header>h1{display:none}.content .archive ul>li time{font-family:"Roboto Mono", "Consolas", "Menlo", monospace;font-weight:normal;display:none;font-size:10pt}.content .contact label,.content .contact input[type="submit"]{font-family:"Open Sans", "Verdana", sans-serif;font-weight:bold;cursor:pointer;display:block;margin:16px 0}.content .contact label{margin-bottom:4px}.content .contact input[type="text"],.content .contact input[type="email"],.content .contact textarea{font-family:"Roboto Mono", "Consolas", "Menlo", monospace;font-weight:normal;display:block;font-size:10pt;line-height:inherit;padding:4px;width:100%}.content .contact textarea{height:200px;max-width:100%;min-width:100%}.content .contact input[type="submit"]{padding:4px 40px}.content .comments{margin:24px 0 8px}.content .comments header>h2{display:none}.content .comments noscript{font-family:"Roboto Mono", "Consolas", "Menlo", monospace;font-weight:normal;display:block;font-size:10pt;margin:-12px 0 24px}.sidebar header>h1{display:none}.sidebar header>h2{border-bottom:1px solid #ccc;border-top:3px solid gray;font-size:inherit;margin:0;padding:4px 0}.sidebar section{margin:24px 0}.sidebar section:first-of-type{margin-top:0}.sidebar .social-media ul{list-style:none;padding:0 0 0 16px}.sidebar .social-media ul>li a{display:inline-block}.sidebar .social-media ul>li a *{vertical-align:middle}.sidebar .social-media ul>li a span{margin:0 10px}.sidebar .social-media ul>li a svg{color:gray;height:48px;width:48px}.sidebar .social-media ul>li a:hover svg{color:inherit}.content p:not(.nojustify),.sidebar p:not(.nojustify){text-align:justify;word-spacing:-1px}.content p,.content ul,.sidebar p,.sidebar ul{line-height:1.667}@media only screen and (min-width: 600px){.content ul{padding-left:40px}.content ul>li{margin:0}.content figure{max-width:90vw}.content .fig-latex>img{margin:0 40px}.content .fig-pic-l>img{float:left;margin:0 24px 0 0}.content .fig-pic-r>img{float:right;margin:0 0 0 24px}.content .archive ul>li time{display:inline}body{max-width:720px;width:90%}body>header{font-size:24pt}.navmenu #toggle{display:none}.navmenu #toggle+label{display:none}.navmenu #toggle~ul{height:auto;visibility:visible}.navmenu ul{flex-flow:row wrap}.navmenu ul>li a{padding:4px 32px}}@media only screen and (min-width: 1200px){body{max-width:1200px}body>header{text-align:center}.content{flex:0 60%}.sidebar{flex:0 35%}.sidebar section:first-of-type{margin-top:40px}}@media only print{.content ul{padding-left:40px}.content ul>li{margin:0}.content figure{max-width:100vw}.content .fig-latex>img{margin:0 40px}.content .fig-pic-l>img{float:left;margin:0 24px 0 0}.content .fig-pic-r>img{float:right;margin:0 0 0 24px}.content .archive ul>li time{display:inline}body{display:block;margin:auto;width:100%}body>header{border-bottom:1px solid #ccc;border-top:3px solid gray;font-size:inherit;margin:0;padding:4px 0;text-align:left}.navmenu,.sidebar,.oldpost,.comments{display:none}}@page{margin:1in 1.25in}
</style></head><body><header><a href="./">Jim Killingsworth</a></header><nav class="navmenu"><input id="toggle" type="checkbox"/><label for="toggle">Enable menu</label><ul><li><a href="./"> Home </a></li><li><a href="./archive/"> Archive </a></li><li><a href="./about/"> About </a></li><li><a href="./contact/"> Contact </a></li></ul></nav><main class="content"><article><header><h1>Hill Climbing and Cost Functions</h1></header><p>If you’re climb­ing a hill, you know you’ve reached the top when you can’t take any fur­ther steps that lead to a higher ele­va­tion. But if the hill is actu­ally a plateau with a flat top, the top­most point you reach can depend largely on where you started climb­ing. In this post, I elab­o­rate on the topic of my pre­vi­ous post titled <a href="/2019/09/14/estimating-the-weights-of-biased-coins/"><em>Esti­mat­ing the Weights of Biased Coins</em></a>. This post presents the results of an improved hill climb­ing algo­rithm and also some ideas for rank­ing the dif­fer­ent solu­tions that fall on a plateau of valid values.</p><h2 id="hill-climbing-algorithm">Hill Climbing Algorithm</h2><p>The hill climb­ing algo­rithm used in my <a href="/2019/09/14/estimating-the-weights-of-biased-coins/">pre­vi­ous post</a> is a sto­chas­tic hill climb­ing algo­rithm. It ran­domly chooses a small incre­ment to one of the weights and then either accepts or rejects the move, depend­ing on whether or not the adjust­ment brings the com­puted out­come closer to that of the tar­get distribution.</p><p>Instead of ran­domly pick­ing a sin­gle move, we can con­sider the set of all pos­si­ble moves and pick the one with the steep­est ascent up the hill. To do this, we can incre­ment each one of the weights in both the pos­i­tive and neg­a­tive direc­tion. If there are three weights, there are six pos­si­ble moves. We can com­pute the value of a cost func­tion for each move and then choose the best one. This process can be repeated until the none of the pos­si­ble moves offers and improve­ment to the value of the cost func­tion asso­ci­ated with the pre­vi­ous esti­mate. To illus­trate, con­sider the fol­low­ing tar­get distribution:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 1" src="./2019/11/14/hill-climbing-and-cost-functions/fig-01-target-pmfunc.svg"></figure><p>Sup­pose this rep­re­sents the expected out­come of play­ing the weighted coin toss game with four toss­es, as described in my <a href="/2019/09/14/estimating-the-weights-of-biased-coins/">pre­vi­ous post</a>. The tar­get val­ues are thus:</p><figure class="fig-latex"><img width="89" height="71" alt="Figure 2" src="./2019/11/14/hill-climbing-and-cost-functions/fig-02-latex-3086321722.svg"></figure><p>We want to fig­ure out what weights of the biased coins will give us an expected out­come that matches this tar­get dis­tri­b­u­tion. We start by mak­ing an ini­tial guess. Sup­pose we start with an ini­tial guess of all fairly weighted coins, as illus­trated below:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 3" src="./2019/11/14/hill-climbing-and-cost-functions/fig-03-estimate-equal-05-begin-biases.svg"></figure><p>These weights can be rep­re­sented using the fol­low­ing notation:</p><figure class="fig-latex"><img width="92" height="71" alt="Figure 4" src="./2019/11/14/hill-climbing-and-cost-functions/fig-04-latex-0311064885.svg"></figure><p>Given this ini­tial guess, we can cal­cu­late what the expec­ta­tion of the coin toss game would be if the coins were weighted accord­ing to our ini­tial esti­mate. Recall the fol­low­ing equa­tions derived in the <a href="/2019/09/14/estimating-the-weights-of-biased-coins/">pre­vi­ous post</a>:</p><figure class="fig-latex"><img width="297" height="136" alt="Figure 5" src="./2019/11/14/hill-climbing-and-cost-functions/fig-05-latex-4081775235.svg"></figure><p>Plug­ging in the num­bers and doing the math, here are the com­puted val­ues based on the ini­tial esti­mate of the weights:</p><figure class="fig-latex"><img width="89" height="71" alt="Figure 6" src="./2019/11/14/hill-climbing-and-cost-functions/fig-06-latex-3791477472.svg"></figure><p>This does not match our tar­get val­ues, so we know that our ini­tial guess is not cor­rect. But how incor­rect is it? Can we quan­tify the fit­ness of our esti­mate? Indeed, we can use a cost func­tion to deter­mine how close our esti­mate is to the desired result. In this exam­ple, we use the sum of squared errors as our cost func­tion:</p><figure class="fig-latex"><img width="513" height="74" alt="Figure 7" src="./2019/11/14/hill-climbing-and-cost-functions/fig-07-latex-0825322250.svg"></figure><p>Our objec­tive is to revise the esti­mate to min­i­mize the value of the cost func­tion. Lower val­ues indi­cate a more favor­able esti­mate. A zero value is the most ide­al. Incre­ment­ing each one of the esti­mated weights by a small step size, in both the pos­i­tive and neg­a­tive direc­tion, there are six pos­si­ble revi­sions we can make to our ini­tial esti­mate:</p><figure class="fig-latex"><img width="311" height="234" alt="Figure 8" src="./2019/11/14/hill-climbing-and-cost-functions/fig-08-latex-3398495416.svg"></figure><p>The pro­posed revi­sion with the low­est value for the cost func­tion is the move with the steep­est ascent up the hill. If we choose the pro­posed revi­sion with the low­est value for the cost func­tion, our revised esti­mate then becomes:</p><figure class="fig-latex"><img width="92" height="71" alt="Figure 9" src="./2019/11/14/hill-climbing-and-cost-functions/fig-09-latex-0591371959.svg"></figure><p>Using this revised esti­mate as our new base­line, we can repeat this process again and again until none of the pro­posed revi­sions offers an improve­ment to the value of the cost func­tion asso­ci­ated with the pre­vi­ous esti­mate. After many iter­a­tions, we con­verge on the fol­low­ing values:</p><figure class="fig-latex"><img width="92" height="71" alt="Figure 10" src="./2019/11/14/hill-climbing-and-cost-functions/fig-10-latex-1108567556.svg"></figure><p>Here is a visual rep­re­sen­ta­tion of the final result:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 11" src="./2019/11/14/hill-climbing-and-cost-functions/fig-11-estimate-equal-05-final-biases.svg"></figure><p>If we play the coin toss game with these weights, the expected out­come matches the tar­get dis­tri­b­u­tion. How­ev­er, as demon­strated in a <a href="/2019/09/14/estimating-the-weights-of-biased-coins/#exponential-distribution-parameter--05">pre­vi­ous study</a>, this is not the only solu­tion pos­si­ble for the given tar­get distribution.</p><h2 id="different-starting-points">Different Starting Points</h2><p>Instead of start­ing with an ini­tial esti­mate of all fairly weighted coins, what would hap­pen if we applied the hill climb­ing algo­rithm described above start­ing with a dif­fer­ent set of weights for the ini­tial guess? Recall the tar­get dis­tri­b­u­tion we are try­ing to find the weights for:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 12" src="./2019/11/14/hill-climbing-and-cost-functions/fig-12-target-pmfunc.svg"></figure><p>Now sup­pose we start with the fol­low­ing ini­tial estimate:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 13" src="./2019/11/14/hill-climbing-and-cost-functions/fig-13-estimate-slope-02-begin-biases.svg"></figure><p>These are ascend­ing weights instead of equal weights. If we revise the esti­mate repeat­edly over many iter­a­tions, fol­low­ing the same steps described in the pre­vi­ous sec­tion, the esti­mate even­tu­ally con­verges on the fol­low­ing values:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 14" src="./2019/11/14/hill-climbing-and-cost-functions/fig-14-estimate-slope-02-final-biases.svg"></figure><p>As you can see, the final results found by the hill climb­ing algo­rithm depend on the ini­tial esti­mate of the weights. Since there are mul­ti­ple valid solu­tions, the hill we want to climb is actu­ally a plateau that is flat at the top. To visu­al­ize, con­sider the fol­low­ing illustration:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 15" src="./2019/11/14/hill-climbing-and-cost-functions/fig-15-climb-hill-east.svg"></figure><p>A hiker wants to get to the top of a hill. If he starts at the base of the hill and always takes steps in the direc­tion that leads to a higher ele­va­tion, he will even­tu­ally reach the top of the hill. Once at the top, the hiker can­not take any addi­tional steps that would lead to a higher ele­va­tion. In the illus­tra­tion above, the hiker starts on the east side of the hill. Look at what hap­pens if the hiker starts on the west side of the hill:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 16" src="./2019/11/14/hill-climbing-and-cost-functions/fig-16-climb-hill-west.svg"></figure><p>Regard­less of start­ing posi­tion, the hiker always winds up in the same posi­tion at the top of the hill. But this only hap­pens with cer­tain types of hills. Con­sider what hap­pens if the hill is actu­ally a plateau with a flat top:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 17" src="./2019/11/14/hill-climbing-and-cost-functions/fig-17-climb-plat-east.svg"></figure><p>When start­ing from the base on the east side of the plateau, the hiker reaches the top­most point located on the east­ern rim. At this point, the hiker can­not take any fur­ther steps that would lead to a higher ele­va­tion. Now look what hap­pens if the hiker starts at the base on the west side of the plateau:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 18" src="./2019/11/14/hill-climbing-and-cost-functions/fig-18-climb-plat-west.svg"></figure><p>In this case, the top­most point reached by the hiker is located on the west­ern rim of the plateau. When the hill is really a plateau, the hill climb­ing algo­rithm does not con­verge to the same solu­tion for dif­fer­ent start­ing posi­tions. How­ev­er, it might be pos­si­ble to adapt the cost func­tion in such a way that would give pref­er­ence to some valid solu­tions over oth­ers. For exam­ple, a scor­ing func­tion might be used to give pref­er­ence to cer­tain val­ues based on prox­im­ity to the edge of the plateau.</p><h2 id="scoring-values-on-the-plateau">Scoring Values on the Plateau</h2><p>Here I want to con­sider two dif­fer­ent scor­ing func­tions that can be used to rank the val­ues on a plateau of pos­si­ble solu­tions for the weighted coin toss game. Each of these scor­ing func­tions could be used as a sec­ondary cost func­tion in cases where the pri­mary cost func­tion returns the most opti­mal value of zero.</p><p>The first scor­ing func­tion I want to con­sider gives pref­er­ence to weights that are near­est to the cen­ter of the range of pos­si­ble weights:</p><figure class="fig-latex"><img width="328" height="33" alt="Figure 19" src="./2019/11/14/hill-climbing-and-cost-functions/fig-19-latex-1264379409.svg"></figure><p>The sec­ond scor­ing func­tion I want to con­sider gives pref­er­ence to weights that are near­est to their neigh­bor­ing weights:</p><figure class="fig-latex"><img width="315" height="33" alt="Figure 20" src="./2019/11/14/hill-climbing-and-cost-functions/fig-20-latex-2366505942.svg"></figure><p>Now let’s con­sider the first set of weights we found for the tar­get dis­tri­b­u­tion after apply­ing the hill climb­ing algo­rithm start­ing with an ini­tial guess of all fairly weighted coins:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 21" src="./2019/11/14/hill-climbing-and-cost-functions/fig-21-estimate-equal-05-final-biases.svg"></figure><p>Plug­ging these weights into the scor­ing functions:</p><figure class="fig-latex"><img width="130" height="44" alt="Figure 22" src="./2019/11/14/hill-climbing-and-cost-functions/fig-22-latex-2995246726.svg"></figure><p>Now let’s con­sider the sec­ond set of weights we found for the tar­get dis­tri­b­u­tion after apply­ing the hill climb­ing algo­rithm start­ing with an ini­tial guess of ascend­ing weights:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 23" src="./2019/11/14/hill-climbing-and-cost-functions/fig-23-estimate-slope-02-final-biases.svg"></figure><p>Plug­ging these weights into the scor­ing functions:</p><figure class="fig-latex"><img width="130" height="45" alt="Figure 24" src="./2019/11/14/hill-climbing-and-cost-functions/fig-24-latex-0537060120.svg"></figure><p>While both sets of weights are valid solu­tions for the given tar­get dis­tri­b­u­tion, the scor­ing func­tions give pref­er­ence to one over the oth­er. In this case, both scor­ing func­tions give pref­er­ence to the sec­ond set of weights. But these two sets of weights are just two pos­si­ble solu­tions in an entire range of pos­si­ble solu­tions in which the pri­mary cost func­tion eval­u­ates to zero.</p><p>If we only con­sider the range of pos­si­ble solu­tions in which the pri­mary cost func­tion eval­u­ates to zero, which are the only valid solu­tions for the given tar­get dis­tri­b­u­tion, how do we go about find­ing the one with the most opti­mal score for each of the two scor­ing func­tions? We can start by plot­ting the scores across the range of pos­si­ble val­ues. Based on the results derived in the <a href="/2019/09/14/estimating-the-weights-of-biased-coins/">pre­vi­ous post</a>, the weights of the biased coins the +2 and +3 states can be stated in terms of the weight of the coin in the +1 state:</p><figure class="fig-latex"><img width="129" height="109" alt="Figure 25" src="./2019/11/14/hill-climbing-and-cost-functions/fig-25-latex-2653587590.svg"></figure><p>Addi­tion­al­ly, the value of the weight of the biased coin in the +1 state is lim­ited to a range with a lower and upper bound:</p><figure class="fig-latex"><img width="154" height="19" alt="Figure 26" src="./2019/11/14/hill-climbing-and-cost-functions/fig-26-latex-3523778155.svg"></figure><p>The min­i­mum value at the lower bound is:</p><figure class="fig-latex"><img width="127" height="22" alt="Figure 27" src="./2019/11/14/hill-climbing-and-cost-functions/fig-27-latex-4097814762.svg"></figure><p>The max­i­mum value at the upper bound is:</p><figure class="fig-latex"><img width="155" height="43" alt="Figure 28" src="./2019/11/14/hill-climbing-and-cost-functions/fig-28-latex-3002028942.svg"></figure><p>From this, we can rep­re­sent the range of all valid solu­tions for the tar­get dis­tri­b­u­tion on a sin­gle axis. We can plot the weights on the hor­i­zon­tal axis and the scores on the ver­ti­cal axis. Recall the val­ues of the tar­get dis­tri­b­u­tion pre­sented earlier:</p><figure class="fig-latex"><img width="89" height="71" alt="Figure 29" src="./2019/11/14/hill-climbing-and-cost-functions/fig-29-latex-3086321722.svg"></figure><p>Here is the plot of the first scor­ing func­tion for all weights in which the pri­mary cost func­tion eval­u­ates to zero for the tar­get distribution:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 30" src="./2019/11/14/hill-climbing-and-cost-functions/fig-30-optimize-score-A-scores.svg"></figure><p>The most opti­mal point can be found by tak­ing the deriv­a­tive of the scor­ing func­tion and find­ing the root:</p><figure class="fig-latex"><img width="176" height="43" alt="Figure 31" src="./2019/11/14/hill-climbing-and-cost-functions/fig-31-latex-4063082881.svg"></figure><p>Here is the most opti­mal set of weights deter­mined by the scor­ing function:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 32" src="./2019/11/14/hill-climbing-and-cost-functions/fig-32-optimize-score-A-biases.svg"></figure><p>Here is the plot of the sec­ond scor­ing func­tion for all weights in which the pri­mary cost func­tion eval­u­ates to zero for the tar­get distribution:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 33" src="./2019/11/14/hill-climbing-and-cost-functions/fig-33-optimize-score-B-scores.svg"></figure><p>The most opti­mal point can be found by tak­ing the deriv­a­tive of the scor­ing func­tion and find­ing the root:</p><figure class="fig-latex"><img width="177" height="43" alt="Figure 34" src="./2019/11/14/hill-climbing-and-cost-functions/fig-34-latex-0877411170.svg"></figure><p>Here is the most opti­mal set of weights deter­mined by the scor­ing function:</p><figure class="fig-chart" style="padding-top: 56.25%;"><img width="720" height="405" alt="Figure 35" src="./2019/11/14/hill-climbing-and-cost-functions/fig-35-optimize-score-B-biases.svg"></figure><p>These two results are dif­fer­ent than those found by the hill climb­ing algo­rithm. For both scor­ing func­tions above, I used a numer­i­cal root find­ing method to find the root of the deriv­a­tive. I don’t think a closed form solu­tion is pos­si­ble in either of these two cas­es. This approach to find­ing the opti­mal val­ues may not work if the scor­ing func­tion is not dif­fer­entiable at all points that fall within the lower and upper bound.</p><h2 id="next-steps">Next Steps</h2><p>The vari­a­tion of the hill climb­ing algo­rithm pre­sented here con­verges to a solu­tion very quickly in a finite num­ber of iter­a­tions. How­ev­er, it does not con­verge to a unique solu­tion for all start­ing points. When using a scor­ing func­tion like the ones pre­sented above, a unique solu­tion can be found for a prob­lem that would oth­er­wise have an infi­nite num­ber of pos­si­ble solu­tions.</p><p>My goal is to find a way to com­bine the cost func­tion used in the hill climb­ing algo­rithm with a scor­ing func­tion that gives cur­va­ture to an oth­er­wise flat plateau. This would allow the hill climb­ing algo­rithm to con­verge to a unique solu­tion regard­less of the ini­tial guess. The plateau essen­tially becomes a ridge. My ini­tial attempts at com­bin­ing the cost func­tion with a scor­ing func­tion have resulted in a method that seems to find its way to the ridge, but then gets stuck when try­ing to ascend the ridge.</p><p>Ulti­mate­ly, I want to come up with a tech­nique that finds a unique solu­tion to the weighted coin toss game when there is a large num­ber of coin tosses instead of just four. And I want to do so in a way that is com­pu­ta­tion­ally effi­cient. Vari­a­tions of the hill climb­ing algo­rithm may or may not be the best approach. I plan to post more on this topic as I con­tinue to explore new ideas.</p><p class="nojustify"><a href="https://github.com/jkillingsworth/jkillingsworth.com/tree/master/src/2019-11-14-hill-climbing-and-cost-functions">Accom­pa­ny­ing source code is avail­able on GitHub.</a></p><footer><time datetime="2019-11-14">November 14, 2019</time></footer></article><section class="comments"><header><h2>Comments</h2></header><script>
    var disqus_config = function () {
      this.page.url = "https://jkillingsworth.com/2019/11/14/hill-climbing-and-cost-functions/";
      this.page.title = "Hill Climbing and Cost Functions";
      this.page.identifier = "/2019/11/14/hill-climbing-and-cost-functions/";
    };
    function disqus_show() {
      var d = document, s = d.createElement("script");
      s.src = "https://jkillingsworth.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    }
    function anchor_blur() {
      var a = document.getElementById("comments");
      a.innerText = "Comments";
      a.blur();
    }
    function disqus() {
      disqus_show();
      anchor_blur();
    }
  </script><a href="javascript:disqus();" id="comments" class="button">Show comments</a><div id="disqus_thread"></div><noscript> Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></section></main><aside class="sidebar"><header><h1>Sidebar</h1></header><section class="social-media"><header><h2>Social Media</h2></header><ul><li><a href="https://www.linkedin.com/in/jkillingsworth/"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><path d="M417.2 64H96.8C79.3 64 64 76.6 64 93.9V415c0 17.4 15.3 32.9 32.8 32.9h320.3c17.6 0 30.8-15.6 30.8-32.9V93.9C448 76.6 434.7 64 417.2 64zM183 384h-55V213h55v171zm-25.6-197h-.4c-17.6 0-29-13.1-29-29.5 0-16.7 11.7-29.5 29.7-29.5s29 12.7 29.4 29.5c0 16.4-11.4 29.5-29.7 29.5zM384 384h-55v-93.5c0-22.4-8-37.7-27.9-37.7-15.2 0-24.2 10.3-28.2 20.3-1.5 3.6-1.9 8.5-1.9 13.5V384h-55V213h55v23.8c8-11.4 20.5-27.8 49.6-27.8 36.1 0 63.4 23.8 63.4 75.1V384z"></path></svg><span>LinkedIn</span></a></li><li><a href="https://github.com/jkillingsworth/"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512"><path d="M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9 1.4.3 2.6.4 3.8.4 8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1-8.4 1.9-15.9 2.7-22.6 2.7-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1 10.5 0 20-3.4 25.6-6 2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8 0 0 1.6-.5 5-.5 8.1 0 26.4 3.1 56.6 24.1 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 30.2-21 48.5-24.1 56.6-24.1 3.4 0 5 .5 5 .5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5 1.2 0 2.6-.1 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"></path></svg><span>GitHub</span></a></li></ul></section></aside><footer> &copy; 2018&ndash;2021 Jim Killingsworth. All rights reserved. </footer></body></html>